---
title: INFs and unrounded answers

katex: true
markup: "mmark"
---

Let's look at the example shown back in [section 2.1](/2-design/common-issues):

<img src="https://i.imgur.com/DYm97LY.png" width="600px"/>

In the above case, the formula for the volume of a sphere was probably directly used to calculate and display the answer - something like this, for example: 

```php
$radius = mt_rand(5, 15);
$answer = 4 / 3 * pi() * ($radius ** 3);
```

However, using `pi()` in calculations will give you messy numbers, and PHP will give the value to the most precision it can - 10 or so decimal places, in this case. 

You can solve this problem in 2 ways, generally: 

1. **Ask for a rounded solution** to a certain number of decimal places (or significant figures - this reuqires a bit more effort; see section 5.)
   <!-- TODO: Replace section 5 with a proper hyperlink -->
2. **Express the solution exactly** - in this case, in terms of $$ \pi $$. 

---

In the case of option 1, this simply involves a slight modification to the answer calculation
```php
$answer = round(4 / 3 * pi() * ($radius ** 3), 2);
```
So in a case where `$radius` is set to `10` like above, you would have the answer as: 

$$
4188.79
$$

Meanwhile, for the solution, you'd probably also want to show the actual process of rounding out the value!
```php
$answer_round4 = round(4 / 3 * pi() * ($radius ** 3), 4);
$solution_text = "`(4/3) pi r^3 = (4/3) pi ($radius)^3 = $answer_round4... approx $answer."
```

This will end up giving you a clear, step-by-step solution, like the following: 

$$
{4 \over 3} \pi r^3 = {4 \over 3} \pi (10)^3 = 4188.7902... \approx 4188.79.
$$

---

Meanwhile, in the case of option 2, you'll want to express this as a fraction that uses $$ \pi $$. 

A basic way of including the fraction would be to do this: 
```php
$answer_numer = 4 * ($radius ** 3);  # Numerator of the fraction
$answer_denom = 3;                   # Denominator of the fraction

$answer = "`($answer_numer / $answer_denom) pi`";
```

In the case where `$radius` is set to `10`, like above, you would end up with the following answer: 

$$
{4000 \over 3} \pi 
$$

However, there's a bit of a problem here - what if the radius is divisible by 3? You'll end up displaying a fraction that's **not in its simplest form**. For example, if `$radius` was `3`, then you would end up with the following: 

$$
{108 \over 3} \pi 
$$

This isn't very good - it should be $$36 \pi$$ instead! 

Because of this, you'll want to express your answer differently whenever the numerator is divisible by 3.

One way of doing this would be as follows: 
```php
$answer_numer = 4 * ($radius ** 3);  # This calculates 4r^3, the numerator

if ($answer_numer % 3 == 0) {        # if divisible by 3, display as a whole number
    $answer_coef = $answer_numer / 3;
    $answer = "`$answer_coef pi`";
} else {                             # otherwise, display as a fraction
    $answer = "`($answer_numer / 3) pi`";
}
```

Now, in a case where `$radius` is divisible by 3, you'll be showing a whole number rather than a fraction. 